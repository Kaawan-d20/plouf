<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boat Game</title>
</head>

<body>
    <div id="canvas">
        <div id="bato">
            <img src="../assets/boat.gif" alt="bato">
        </div>

        <div id="generateurs">

        </div>
    </div>


</body>
<style>
    body{
        margin : 0;
    }

    #canvas {
        width: 100dvw;
        height : 100dvh;
        cursor : none;
        background-image: url("../assets/water-tile.gif");
    }

    #bato {
        top : 0;
        left : 0;
        position: absolute; /* Nécessaire pour pouvoir changer la position */
        cursor: grab; /* Change le curseur pour indiquer un élément déplaçable */
        cursor : none;
        transform : scaleX(-1);
    }

    #generateurs {
        color: blue;
    }
</style>
<script>
    let bato = document.getElementById("bato");
    let canvas = document.getElementById("canvas"); 
    let generateurs = document.getElementById("generateurs");
    let gen_array = [];

    let bato_x = 100, bato_y = 100;
    let nb_generateurs = 5;

    for (let i = 0; i < nb_generateurs; i++){
        gen_array.push(document.createElement('div'));
        gen_array[i].style.left = 0;
        gen_array[i].style.top = `${(100 - (100/nb_generateurs))}%`;
        /*gen_array[i].style.height = */
        generateurs.appendChild(gen_array[i]);

        //let temp = document.createElement('p')
        //gen_array[i].appendChild().textContent(i);
    }

    canvas.addEventListener('mousemove', (e) => {
        if (e.clientX < parseInt(bato.style.left.slice(0, -2))){
            if (Math.abs(e.clientX - parseInt(bato.style.left.slice(0, -2))) > 1){
                
                bato.style.transform = `scaleX(-1)`
            }
        } else {
            if (Math.abs(e.clientX - parseInt(bato.style.left.slice(0, -2))) > 1){
                bato.style.transform = `scaleX(1)`
            }       
        }
        bato.style.left = `${e.clientX}px`;
        bato.style.top = `${e.clientY}px`;
    });
</script>
</html>